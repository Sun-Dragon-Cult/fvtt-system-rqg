<h2 class="flex-row">
  <span>Gear</span>
  <a title="Add Item" data-item-add data-item-type="gear"><i class="fas fa-plus"></i></a>
</h2>
<table>
    <tr>
      <th class="text-left">Name</th>
      <th class="text-right">Qty</th>
      <th class="text-right">ENC</th>
      <th>Equipped</th>

    </tr>
  {{#each data.ownedItems.gear}}
  <tr data-item-id="{{this._id}}">
    <td><a title="Edit Item" data-item-edit><i class="fas fa-edit"></i></a> {{this.name}}</td>
    <td class="text-right">{{this.data.data.quantity}}</td>
    <td class="text-right">{{this.data.data.encumbrance}}</td>
    <td class="text-center"><input type="checkbox" data-item-equip {{checked this.data.data.equipped}}></td>
    <td class="text-right"><a title="Delete Item" data-item-delete><i class="fas fa-trash"></i></a></td>
  </tr>
  {{/each}}
</table>

<h2 class="flex-row">
  <span>Melee Weapons & Shields</span>
  <a title="Add Item" data-item-add data-item-type="meleeWeapon"><i class="fas fa-plus"></i></a>
</h2>
<table>
  <tr>
    <th class="text-left">Name</th>
    <th class="text-left">Skill</th>
    <th class="text-left">Damage</th>
    <th class="text-right">STR</th>
    <th class="text-right">DEX</th>
    <th class="text-right">HP</th>
    <th class="text-right">ENC</th>
    <th>Equipped</th>

  </tr>
  {{#each data.ownedItems.meleeWeapon}}
  {{#unless this.data.data.natural}}
  <tr data-item-id="{{this._id}}">
    <td><a title="Edit Item" data-item-edit><i class="fas fa-edit"></i></a> {{this.name}}</td>
    <td>{{itemname this.data.data.skillId this.actor._id}}</td>
    <td>{{this.data.data.damage}}</td>
    <td class="text-right">{{this.data.data.minStrength}}</td>
    <td class="text-right">{{this.data.data.minDexterity}}</td>
    <td class="text-right">{{this.data.data.hitPoints.value}}</td>
    <td class="text-right">{{this.data.data.encumbrance}}</td>
    <td class="text-center"><input type="checkbox" data-item-equip {{checked this.data.data.equipped}}></td>
    <td class="text-right"><a title="Delete Item" data-item-delete><i class="fas fa-trash"></i></a></td>
  </tr>
  {{/unless}}
  {{/each}}
</table>

<h2 class="flex-row">
  <span>Missile Weapons</span>
  <a title="Add Item" data-item-add data-item-type="missileWeapon"><i class="fas fa-plus"></i></a>
</h2>
<table>
  <tr>
    <th class="text-left">Name</th>
    <th class="text-left">Skill</th>
    <th class="text-left">Damage</th>
    <th class="text-right">STR</th>
    <th class="text-right">DEX</th>
    <th class="text-right">HP</th>
    <th class="text-right">ENC</th>
    <th>Equipped</th>

  </tr>
  {{#each data.ownedItems.missileWeapon}}
    {{#if (or this.data.data.isProjectileWeapon this.data.data.isThrownWeapon)}}
    <tr data-item-id="{{this._id}}">
      <td><a title="Edit Item" data-item-edit><i class="fas fa-edit"></i></a> {{this.name}}</td>
      <td>{{itemname this.data.data.skillId this.actor._id}}</td>
      <td>{{this.data.data.damage}}</td>
      <td class="text-right">{{this.data.data.minStrength}}</td>
      <td class="text-right">{{this.data.data.minDexterity}}</td>
      <td class="text-right">{{this.data.data.hitPoints.value}}</td>
      <td class="text-right">{{this.data.data.encumbrance}}</td>
      <td class="text-center"><input type="checkbox" data-item-equip {{checked this.data.data.equipped}}></td>
      <td class="text-right"><a title="Delete Item" data-item-delete><i class="fas fa-trash"></i></a></td>
    </tr>
    {{/if}}
  {{/each}}
  {{#each data.ownedItems.missileWeapon}}
  {{#if this.data.data.isProjectile}}
  <tr data-item-id="{{this._id}}">
    <td><a title="Edit Item" data-item-edit><i class="fas fa-edit"></i></a> {{this.name}} ({{this.data.data.quantity}})</td>
    <td>-</td>
    <td>-</td>
    <td class="text-right">-</td>
    <td class="text-right">-</td>
    <td class="text-right">-</td>
    <td class="text-right">{{this.data.data.encumbrance}}</td>
    <td class="text-center"><input type="checkbox" data-item-equip {{checked this.data.data.equipped}}></td>
    <td class="text-right"><a title="Delete Item" data-item-delete><i class="fas fa-trash"></i></a></td>
  </tr>
  {{/if}}
  {{/each}}
</table>


<h2 class="flex-row">
  <span>Armor</span>
  <a title="Add Item" data-item-add data-item-type="armor"><i class="fas fa-plus"></i></a>
</h2>
<table>
  <tr>
    <th class="text-left">Name</th>
    <th class="text-right">ENC</th>
    <th>Equipped</th>
    <th class="text-left">Hitlocations</th>
    <th class="text-left">Material</th>
    <th class="text-right">Absorbs</th>
    <th class="text-right">moveQuietly</th>
  </tr>
  {{#each data.ownedItems.armor}}
  <tr data-item-id="{{this._id}}">
    <td><a title="Edit Item" data-item-edit><i class="fas fa-edit"></i></a> {{this.name}}</td>
    <td class="text-right">{{this.data.data.encumbrance}}</td>
    <td class="text-center"><input type="checkbox" data-item-equip {{checked this.data.data.equipped}}></td>
    <td>[
      {{#each this.data.data.hitLocations}}
        {{this}},
      {{/each}}
      ]</td>
    <td>{{this.data.data.material}}</td>
    <td class="text-right">{{this.data.data.absorbs}}</td>
    <td class="text-right">{{this.data.data.moveQuietlyPenalty}}</td>
    <td class="text-right"><a title="Delete Item" data-item-delete><i class="fas fa-trash"></i></a></td>
  </tr>
  {{/each}}
</table>
