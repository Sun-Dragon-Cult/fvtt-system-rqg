{{log "attackChatTemplate" this}}
<div class="rqg chat-card" data-attack-weapon-uuid="{{attackWeaponUuid}}"
     data-defence-weapon-uuid="{{defenceWeaponUuid}}">
  <div class="flexrow">
    <span data-visible-actor-uuid="{{attackingActorUuid}}">{{{attackRollHtml}}}</span>
    <span data-visible-actor-uuid="{{defendingActorUuid}}">{{{defendRollHtml}}}</span>
  </div>

  {{#if (eq attackState 'Attacked')}}
    <div class="flexrow">
      <button data-visible-actor-uuid="{{defendingActorUuid}}"
              data-defence="parry">Parry
      </button>
      <button data-visible-actor-uuid="{{defendingActorUuid}}"
              data-defence="dodge">Dodge
      </button>
      <button data-visible-actor-uuid="{{defendingActorUuid}}"
              data-defence="ignore">Ignore
      </button>
    </div>
  {{else if (eq attackState 'Defended')}}
    {{{outcomeDescription}}}
    <button data-damage-hitlocation>Roll some damage & hitlocation</button>

  {{else if (eq attackState 'DamageRolled')}}
    {{outcomeDescription}}
    <div class="flexrow">
      {{#unless actorDamagedApplied}}
        <button data-visible-actor-uuid="{{damagedActorUuid}}"
          data-wounded-actor-uuid="{{damagedActorUuid}}">Apply damage to actor</button>{{/unless}}
      {{#unless weaponDamageApplied}}
        <button data-visible-actor-uuid="{{defendingActorUuid}}"
          data-damaged-weapon-uuid="{{damagedWeaponUuid}}">Apply damage to weapon</button>{{/unless}}
    </div>
  {{/if}}
</div>

